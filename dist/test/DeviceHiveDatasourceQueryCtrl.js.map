{"version":3,"sources":["../../src/DeviceHiveDatasourceQueryCtrl.js"],"names":["DeviceHiveDatasourceQueryCtrl","$scope","$injector","uiSegmentSrv","me","target","type","name","dataPath","converters","converterList","datasource","converterQuery","showHelp","push","panelCtrl","refresh","templateUrl"],"mappings":";;;;;;;;AAAA;;AACA;;AACA;;;;;;;;IAGMA,6B;;;AAEF;;;;;;;AAOA,2CAAYC,MAAZ,EAAoBC,SAApB,EAA+BC,YAA/B,EAA6C;AAAA;;AAAA,kKACnCF,MADmC,EAC3BC,SAD2B;;AAGzC,YAAME,UAAN;;AAEAA,WAAGC,MAAH,CAAUA,MAAV,GAAmBD,GAAGC,MAAH,CAAUA,MAAV,mBAAnB;AACAD,WAAGC,MAAH,CAAUC,IAAV,GAAiBF,GAAGC,MAAH,CAAUC,IAAV,aAAjB;AACAF,WAAGC,MAAH,CAAUE,IAAV,GAAiBH,GAAGC,MAAH,CAAUE,IAAV,MAAjB;AACAH,WAAGC,MAAH,CAAUG,QAAV,GAAqBJ,GAAGC,MAAH,CAAUG,QAAV,MAArB;AACAJ,WAAGC,MAAH,CAAUI,UAAV,GAAuBL,GAAGC,MAAH,CAAUI,UAAV,IAAwB,EAA/C;;AAEAL,WAAGM,aAAH,GAAmBN,GAAGO,UAAH,CAAcC,cAAd,EAAnB;AACAR,WAAGS,QAAH,GAAc,KAAd;AAZyC;AAa5C;;;;yCAEgB;AACb,gBAAMT,KAAK,IAAX;;AAEAA,eAAGC,MAAH,CAAUI,UAAV,CAAqBK,IAArB,CAA0B,CAA1B;AACH;;AAED;;;;;;;;2CAKmB;AACf,gBAAMV,KAAK,IAAX;;AAEAA,eAAGW,SAAH,CAAaC,OAAb;AACH;;;;;;AAGLhB,8BAA8BiB,WAA9B;;kBAGejB,6B","file":"DeviceHiveDatasourceQueryCtrl.js","sourcesContent":["import './css/query-editor.css!';\r\nimport './DeviceHiveDirectives.js';\r\nimport { QueryCtrl } from 'app/plugins/sdk';\r\n\r\n\r\nclass DeviceHiveDatasourceQueryCtrl extends QueryCtrl {\r\n\r\n    /**\r\n     * Creates an instance of DeviceHiveDatasourceQueryCtrl.\r\n     * @param {any} $scope\r\n     * @param {any} $injector\r\n     * @param {any} uiSegmentSrv\r\n     * @memberof DeviceHiveDatasourceQueryCtrl\r\n     */\r\n    constructor($scope, $injector, uiSegmentSrv) {\r\n        super($scope, $injector);\r\n\r\n        const me = this;\r\n\r\n        me.target.target = me.target.target || `select metric`;\r\n        me.target.type = me.target.type || `command`;\r\n        me.target.name = me.target.name || ``;\r\n        me.target.dataPath = me.target.dataPath || ``;\r\n        me.target.converters = me.target.converters || [];\r\n\r\n        me.converterList = me.datasource.converterQuery();\r\n        me.showHelp = false;\r\n    }\r\n\r\n    onAddConverter() {\r\n        const me = this;\r\n\r\n        me.target.converters.push(1);\r\n    }\r\n\r\n    /**\r\n     * Refresh data every time query params change.\r\n     *\r\n     * @memberof DeviceHiveDatasourceQueryCtrl\r\n     */\r\n    onChangeInternal() {\r\n        const me = this;\r\n\r\n        me.panelCtrl.refresh();\r\n    }\r\n}\r\n\r\nDeviceHiveDatasourceQueryCtrl.templateUrl = `partials/query.editor.html`;\r\n\r\n\r\nexport default DeviceHiveDatasourceQueryCtrl;"]}