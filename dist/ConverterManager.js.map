{"version":3,"sources":["../src/ConverterManager.js"],"names":["lodash","ConverterManager","me","converters","Map","set","arguments","type","defaultValue","exec","a1","value","convertValueOptions","_getConvertOptions","convertTypeOptions","Object","keys","options","a2","a3","_execConvert","result","forEach","key","push","assign","name","Array","from","converterName","get","getConverterObject","reduce","obj","argument","index","args","has","converter","execFunc","bind","_castArgument","castedValue","Number","isNumber","isNaN","temperature","length","weight","volume","to","toUpperCase","_convertTemperature","_convertLength","_convertWeight","_convertVolume"],"mappings":"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","file":"ConverterManager.js","sourcesContent":["import lodash from \"lodash\";\n\n\nclass ConverterManager {\n\n    constructor() {\n        const me = this;\n\n        me.converters = new Map();\n\n        me.converters.set(`offset`, {\n            arguments: [\n                { type: `number`, defaultValue: 0 }\n            ],\n            exec: (a1, value) => a1 + value\n        });\n\n        me.converters.set(`scale`, {\n            arguments: [\n                { type: `number`, defaultValue: 1 }\n            ],\n            exec: (a1, value) => a1 * value\n        });\n\n        const convertValueOptions = ConverterManager._getConvertOptions();\n        const convertTypeOptions = Object.keys(convertValueOptions);\n\n        me.converters.set(`convert`, {\n            arguments: [\n                { type: `option`, defaultValue: convertTypeOptions[0], options: convertTypeOptions },\n                { type: `typedOption`, defaultValue: convertValueOptions[convertTypeOptions[0]][0], options: convertValueOptions },\n                { type: `typedOption`, defaultValue: convertValueOptions[convertTypeOptions[0]][0], options: convertValueOptions }\n            ],\n            exec: (a1, a2, a3, value) => ConverterManager._execConvert(a1, a2, a3, value)\n        });\n    }\n\n    getConvertersMap() {\n        const me = this;\n\n        return me.converters;\n    }\n\n    getConvertersList() {\n        const me = this;\n        const result = [];\n\n        me.converters.forEach((value, key) => {\n            result.push(Object.assign({ name: key }, value));\n        });\n\n        return result;\n    }\n\n    getConvertersNameList() {\n        const me = this;\n\n        return Array.from(me.converters.keys());\n    }\n\n    getConverterObject(converterName) {\n        const me = this;\n\n        return me.converters.get(converterName);\n    }\n\n    getConverterDefaultValuesObject(converterName) {\n        const me = this;\n\n        return me.getConverterObject(converterName).arguments.reduce((obj, argument, index) => {\n            obj[index] = argument.defaultValue;\n            return obj;\n        }, {});\n    }\n\n\n    convert(converterName, value, args) {\n        const me = this;\n        let result = value;\n\n        if (me.converters.has(converterName)) {\n            const converter = me.converters.get(converterName);\n            const exec = converter.arguments.reduce((execFunc, argument, index) =>\n                execFunc.bind(null, ConverterManager._castArgument(args[index], argument)), converter.exec);\n\n            result = exec(result);\n        }\n\n        return result;\n    }\n\n    static _castArgument(value, argument) {\n        let result = argument.defaultValue;\n\n        switch(argument.type) {\n            case `number`:\n                const castedValue = Number(value);\n                result = lodash.isNumber(castedValue) && !lodash.isNaN(castedValue) ? castedValue : result;\n                break;\n            case `option`:\n            case `typedOption`:\n                result = value;\n                break;\n        }\n\n        return result;\n    }\n\n    static _getConvertOptions () {\n        return {\n            temperature: [ 'C', 'F', 'K' ],\n            length: [ 'm', 'mi', 'yd', 'ft', 'in' ],\n            weight: [ 'kg', 'lb', 'oz' ],\n            volume: [ 'l', 'gal', 'pt' ]\n        }\n    }\n\n    static _execConvert (type, from, to, value) {\n        let result = value;\n\n        from = from.toUpperCase();\n        to = to.toUpperCase();\n\n        switch (type) {\n            case 'temperature':\n                result = ConverterManager._convertTemperature(from, to, value);\n                break;\n            case 'length':\n                result = ConverterManager._convertLength(from, to, value);\n                break;\n            case 'weight':\n                result = ConverterManager._convertWeight(from, to, value);\n                break;\n            case 'volume':\n                result = ConverterManager._convertVolume(from, to, value);\n                break;\n        }\n\n        return result;\n    }\n\n    static _convertTemperature (from, to, value) {\n        let result = value;\n\n        switch (from + to) {\n            case 'CF':\n                result = (value * 9 / 5) + 32;\n                break;\n            case 'CK':\n                result = value + 273.15;\n                break;\n            case 'FC':\n                result = (value - 32) * 5 / 9;\n                break;\n            case 'FK':\n                result = (value + 459.67) * 5 / 9;\n                break;\n            case 'KC':\n                result = value - 273.15;\n                break;\n            case 'KF':\n                result = (value * 9 / 5) - 459.67;\n                break;\n        }\n\n        return result;\n    }\n\n    //ength: [ 'm', 'mi', 'yd', 'ft', 'in' ],\n    static _convertLength (from, to, value) {\n        let result = value;\n\n        switch (from + to) {\n            case 'MMI':\n                result = (value * 9 / 5) + 32;\n                break;\n            case 'MYD':\n                result = value + 273.15;\n                break;\n            case 'MFT':\n                result = (value - 32) * 5 / 9;\n                break;\n            case 'MIN':\n                result = (value + 459.67) * 5 / 9;\n                break;\n            case 'MIM':\n                result = value + 273.15;\n                break;\n            case 'MIYD':\n                result = (value - 32) * 5 / 9;\n                break;\n            case 'MIFT':\n                result = (value + 459.67) * 5 / 9;\n                break;\n            case 'MIIN':\n                result = (value * 9 / 5) + 32;\n                break;\n            case 'YDM':\n                result = value + 273.15;\n                break;\n            case 'YDMI':\n                result = (value - 32) * 5 / 9;\n                break;\n            case 'YDFT':\n                result = (value + 459.67) * 5 / 9;\n                break;\n            case 'YDIN':\n                result = (value * 9 / 5) + 32;\n                break;\n            case 'FTM':\n                result = value + 273.15;\n                break;\n            case 'FTMI':\n                result = (value - 32) * 5 / 9;\n                break;\n            case 'FTYD':\n                result = (value + 459.67) * 5 / 9;\n                break;\n            case 'FTIN':\n                result = (value * 9 / 5) + 32;\n                break;\n            case 'INM':\n                result = value + 273.15;\n                break;\n            case 'INMI':\n                result = (value - 32) * 5 / 9;\n                break;\n            case 'IN':\n                result = (value + 459.67) * 5 / 9;\n                break;\n            case 'IN':\n                result = (value + 459.67) * 5 / 9;\n                break;\n        }\n\n        return result;\n    }\n\n    static _convertWeight (from, to, value) {\n        let result = value;\n\n        switch (from + to) {\n            case 'CF':\n                result = (value * 9 / 5) + 32;\n                break;\n            case 'CK':\n                result = value + 273.15;\n                break;\n            case 'FC':\n                result = (value - 32) * 5 / 9;\n                break;\n            case 'FK':\n                result = (value + 459.67) * 5 / 9;\n                break;\n            case 'KC':\n                result = value - 273.15;\n                break;\n            case 'KF':\n                result = (value * 9 / 5) - 459.67;\n                break;\n        }\n\n        return result;\n    }\n\n    static _convertVolume (from, to, value) {\n        let result = value;\n\n        switch (from + to) {\n            case 'CF':\n                result = (value * 9 / 5) + 32;\n                break;\n            case 'CK':\n                result = value + 273.15;\n                break;\n            case 'FC':\n                result = (value - 32) * 5 / 9;\n                break;\n            case 'FK':\n                result = (value + 459.67) * 5 / 9;\n                break;\n            case 'KC':\n                result = value - 273.15;\n                break;\n            case 'KF':\n                result = (value * 9 / 5) - 459.67;\n                break;\n        }\n\n        return result;\n    }\n}\n\nexport default ConverterManager;"]}